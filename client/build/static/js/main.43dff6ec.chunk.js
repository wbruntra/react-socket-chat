(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{120:function(e,t){},123:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(20),c=n.n(s),o=n(25),l=(n(79),n(22)),u=n(23),i=n(26),m=n(24),p=n(27),h=n(62),d=n(10),f=n(35),v=n.n(f),g=n(60),b=n(61),E=n.n(b),O=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={handle:"",msg:""},n.sendForm=function(e){e.preventDefault();var t=n.state,a=t.handle,r=t.msg;n.props.sendMessage(a,r),n.setState({msg:""})},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.checkHealth()}},{key:"render",value:function(){var e=this,t=this.props.messages,n=this.state,a=n.handle,s=n.msg;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("form",{onSubmit:this.sendForm},r.a.createElement("input",{type:"text",value:a,onChange:function(t){e.setState({handle:t.target.value})}}),r.a.createElement("input",{type:"text",value:s,onChange:function(t){e.setState({msg:t.target.value})}}),r.a.createElement("input",{className:"btn",type:"submit"}))),r.a.createElement("div",{className:"row"},r.a.createElement("ul",{className:"collection"},t.map(function(e,t){return r.a.createElement("li",{className:"collection-item",key:t},e.handle," -- ",e.msg)}))))}}]),t}(a.Component),y=Object(o.b)(function(e){return{status:e.status,health:e.health,messages:e.socket.messages}},{checkHealth:function(){return function(){var e=Object(g.a)(v.a.mark(function e(t){var n;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("/api");case 2:n=e.sent,t({type:"HEALTH_CHECK",payload:n.data});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},sendMessage:function(e,t){return{type:"server/hello",data:{handle:e,msg:t}}}})(O),j=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement(d.a,{path:"/",component:y}))}}]),t}(a.Component),w=n(69),k=n(9),C=n(64),H=n(65),N=n(66),S=n.n(N),_=n(67),x=n.n(_),A=n(68),L=n.n(A),T={messages:[{handle:"Bill",msg:"Hello world!"}]},D={status:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"OK";return(arguments.length>1?arguments[1]:void 0).type,e},health:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HEALTH_CHECK":return t.payload;default:return e}},socket:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"message":return L()(e,{messages:{$push:[t.data]}});default:return e}}},K=Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_SOCKET_URL,M=x()(K),R=S()(M,"server/"),B=Object(k.createStore)(Object(k.combineReducers)(Object(w.a)({},D)),Object(H.composeWithDevTools)(Object(k.applyMiddleware)(R,C.a)));B.subscribe(function(){console.log("new client state",B.getState())});var P=B;c.a.render(r.a.createElement(o.a,{store:P},r.a.createElement(j,null)),document.getElementById("root"))},70:function(e,t,n){e.exports=n(123)},79:function(e,t,n){}},[[70,1,2]]]);
//# sourceMappingURL=main.43dff6ec.chunk.js.map